(this["webpackJsonpmovie-rankings"]=this["webpackJsonpmovie-rankings"]||[]).push([[0],{46:function(e,t,a){},51:function(e,t,a){},60:function(e,t,a){},67:function(e,t,a){},73:function(e,t,a){},84:function(e,t,a){},96:function(e,t,a){},97:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(18),i=a.n(r),s=(a(60),a(9)),l=a(12),o=a.n(l),d=a(20),j=a(34),b=(a(37),{apiKey:"AIzaSyAyvJ2WjTMTTEm0iIdDgmePfWt2CjubCoU",authDomain:"movie-rankings-75fa0.firebaseapp.com",databaseURL:Object({NODE_ENV:"production",PUBLIC_URL:"/movie-ratings",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyAyvJ2WjTMTTEm0iIdDgmePfWt2CjubCoU",REACT_APP_APP_ID:"1:309289181606:web:98055b027bad1bd5eeef67",REACT_APP_AUTH_DOMAIN:"movie-rankings-75fa0.firebaseapp.com",REACT_APP_MESSAGING_SENDER_ID:"309289181606",REACT_APP_OMDB_KEY:"9ab78113",REACT_APP_PROJECT_ID:"movie-rankings-75fa0",REACT_APP_STORAGE_BUCKET:"movie-rankings-75fa0.appspot.com",REACT_APP_TMDB_KEY:"fd115b9db75ae82522026bd31b50bf35"}).REACT_APP_DATABASE_URL,messagingSenderId:"309289181606",projectId:"movie-rankings-75fa0",storageBucket:"movie-rankings-75fa0.appspot.com"});j.a.apps.length||j.a.initializeApp(b);var u=j.a.database(),v=function(e){var t=[];return e.forEach((function(e){t.push({name:e.key,score:e.val()})})),t},m=a(2),h=Object(n.createContext)([]),g=function(e){var t=e.children,a=Object(n.useState)([]),c=Object(s.a)(a,2),r=c[0],i=c[1];return Object(n.useEffect)((function(){(function(){var e=Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,u.ref("movies").once("value");case 3:e.sent.forEach((function(e){t.push({title:e.key,date:new Date(e.val().date),ratings:v(e.child("/ratings")),id:e.val().id,cage:e.val().cage})})),i(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(m.jsx)(h.Provider,{value:r,children:t})},O=a(16),x=a(8),f=function(){var e=Object(d.a)(o.a.mark((function e(t){var a,n,c,r,i,s,l,d,j,b,u,v,m,h,g;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"fd115b9db75ae82522026bd31b50bf35",e.next=3,fetch("https://api.themoviedb.org/3/movie/".concat(t,"?api_key=").concat("fd115b9db75ae82522026bd31b50bf35","&language=en-US"));case 3:return a=e.sent,e.next=6,a.json();case 6:return n=e.sent,c=n.budget,r=n.genres,i=n.imdb_id,s=n.overview,l=n.poster_path,d=n.backdrop_path,j=n.revenue,b=n.runtime,u=n.title,v=n.vote_average,m=n.vote_count,h=n.release_date,g=n.tagline,e.abrupt("return",{budget:c,genres:r,imdb_id:i,overview:s,poster_path:"https://image.tmdb.org/t/p/w500".concat(l),backdgrop_path:"https://image.tmdb.org/t/p/w1280".concat(d),revenue:j,runtime:b,title:u,vote_average:v,vote_count:m,tagline:g,release_date:new Date(h)});case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=(a(46),["January","February","March","April","May","June","July","August","September","October","November","December"]),N=function(e){return"".concat(p[e.getMonth()]," ").concat(e.getDate(),", ").concat(e.getFullYear())},_=function(e,t,a){var n=N(e),c="";return t.forEach((function(e,a){a===t.length-1?c+=e.name:c+="".concat(e.name,", ")})),"".concat(n," | ").concat(c," | ").concat(function(e){var t=Math.floor(e/60),a=e%60;return"".concat(t,"h ").concat(a,"m")}(a))},A=a(40),C=(a(66),{path:"#FF0800",trail:"#420C09",star:"#FF0800"}),T={path:"#FFD300",trail:"#614710",star:"#E56717"},D={path:"#03AC13",trail:"#003B00",star:"#FFD700"},w=function(e){var t=e.rating,a=function(e){return e<4?C:e>=4&&e<6.9?T:D}(t);return Object(m.jsx)("div",{children:Object(m.jsx)(A.a,{value:t,text:"".concat(t.toFixed(1)),maxValue:10,strokeWidth:12,styles:Object(A.b)({pathColor:a.path,trailColor:a.trail,textColor:"white"})})})},E=function(e){var t=0;return e.forEach((function(e){t+=e.score})),t/e.length},S=a(44),R=(a(67),function(e){var t=e.date,a=e.ratings,n=e.vote_average,c=e.vote_count,r=e.overview,i=e.budget,s=e.revenue,l=e.cage;return Object(m.jsxs)("div",{className:"detailsPage",children:[Object(m.jsxs)("div",{className:"movieRatings",children:[Object(m.jsxs)("div",{className:"ourRating",children:[Object(m.jsxs)("div",{children:["Our Rating (",a.length,")"]}),Object(m.jsx)("div",{className:"ratingSize",children:Object(m.jsx)(w,{rating:E(a)})})]}),Object(m.jsxs)("div",{className:"fanRating",children:[Object(m.jsxs)("div",{children:["TMDB Rating (",c.toLocaleString("en"),")"]}),Object(m.jsx)("div",{className:"ratingSize",children:Object(m.jsx)(w,{rating:n})})]})]}),Object(m.jsxs)("div",{className:"movieDetails",children:[Object(m.jsxs)("div",{className:"cage",children:[Object(m.jsx)("div",{className:"heading",children:"Nic Cage"}),Object(m.jsx)("div",{className:" = detailBody",children:l?Object(m.jsx)(S.a,{size:20,color:"#03AC13"}):Object(m.jsx)(S.b,{size:20,color:"#FF0800"})})]}),Object(m.jsxs)("div",{className:"overview",children:[Object(m.jsx)("div",{className:"heading",children:"Plot"}),Object(m.jsx)("div",{className:" = detailBody",children:r})]}),Object(m.jsxs)("div",{className:"budget",children:[Object(m.jsx)("div",{className:"heading",children:"Budget"}),Object(m.jsxs)("div",{className:" = detailBody",children:["$",i.toLocaleString("en")]})]}),Object(m.jsxs)("div",{className:"revenue",children:[Object(m.jsx)("div",{className:"heading",children:"Revenue"}),Object(m.jsxs)("div",{className:" = detailBody",children:["$",s.toLocaleString("en")]})]}),Object(m.jsxs)("div",{className:"revenue",children:[Object(m.jsx)("div",{className:"heading",children:"Date Watched"}),Object(m.jsx)("div",{className:" = detailBody",children:N(t)})]})]})]})}),y=a(25),k=a(99),P=a(26),F=a.n(P),I=(a(73),function(e){var t=e.ratings,a=e.isMobile,c=e.title,r=Object(n.useState)(!0),i=Object(s.a)(r,2),l=i[0],o=i[1],d=Object(n.useState)("score"),j=Object(s.a)(d,2),b=j[0],u=j[1],v=function(e){e===b?o(!l):u(e)};return Object(m.jsxs)("div",{className:"ratingTable",children:[Object(m.jsx)("div",{className:"ratingTitle",children:c}),Object(m.jsx)(k.a,{size:"sm",hover:!0,variant:"dark",className:"tableOfRatings",children:Object(m.jsxs)("tbody",{children:[Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{onClick:function(){return v("name")},children:"Name"}),Object(m.jsx)("th",{onClick:function(){return v("score")},children:"Score"})]}),t.sort((function(e,t){return function(e,t,a,n){return"score"===a?n?t.score-e.score:e.score-t.score:n?e.name>t.name?1:e.name<t.name?-1:0:e.name>t.name?-1:e.name<t.name?1:0}(e,t,b,l)})).map((function(e,t){return Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:e.name}),Object(m.jsxs)("td",{children:[Object(m.jsx)(F.a,{rating:e.score/2,starRatedColor:"rgb(255,223,0)",starEmptyColor:"rgb(30,30,30)",starDimension:a?"30px":"35px",starSpacing:a?"0px":"2px"})," ".concat(e.score.toFixed(1),"/10")]})]},t)}))]})})]})}),M=function(e){var t=e.title,a=e.id,c=e.date,r=e.ratings,i=e.cage,l=Object(n.useState)(),j=Object(s.a)(l,2),b=j[0],u=j[1],v=Object(y.useMediaQuery)({maxWidth:700});if(Object(n.useEffect)((function(){(function(){var e=Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(a);case 2:t=e.sent,u(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[a]),b){var h=Object(m.jsx)(R,{date:c,ratings:r,vote_average:b.vote_average,vote_count:b.vote_count,overview:b.overview,budget:b.budget,revenue:b.revenue,cage:i});return Object(m.jsxs)("div",{className:"moviePage",children:[Object(m.jsxs)("div",{className:"info",style:{backgroundImage:"url(".concat(b.backdgrop_path,")")},children:[Object(m.jsx)("div",{className:"overlay"}),Object(m.jsx)("div",{className:"moviePoster",children:Object(m.jsx)("img",{src:b.poster_path,alt:""})}),Object(m.jsxs)("div",{className:"movieInfo",children:[Object(m.jsxs)("div",{className:"titleDiv",children:[Object(m.jsxs)("div",{className:"movieTitle",children:["".concat(t," (").concat(b.release_date.getFullYear(),")"),Object(m.jsx)("div",{className:"movieTitleInfo",children:b&&_(b.release_date,b.genres,b.runtime)})]}),Object(m.jsx)("div",{className:"tagline",children:b.tagline})]}),!v&&h]})]}),v&&h,Object(m.jsx)(I,{title:"Ratings",ratings:r,isMobile:v})]})}return Object(m.jsx)("div",{className:"moviePage",children:Object(m.jsx)("div",{className:"info"})})},B=a(100),L=a(101),W=a(41),H=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],c=t[1],r=Object(x.l)().pathname;return Object(n.useEffect)((function(){c(!1)}),[r]),Object(m.jsxs)(B.a,{bg:"dark",variant:"dark",expand:"sm",expanded:a,onToggle:c,children:[Object(m.jsx)(B.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(m.jsx)(B.a.Collapse,{id:"responsive-navbar-nav",children:Object(m.jsxs)(L.a,{className:"mr-auto",children:[Object(m.jsx)(W.LinkContainer,{to:"/",children:Object(m.jsx)(L.a.Link,{children:"Home"})}),Object(m.jsx)(W.LinkContainer,{to:"/viewers",children:Object(m.jsx)(L.a.Link,{children:"Viewers"})})]})})]})},U=(a(83),a(102)),z=(a(84),function(e){var t=e.title,a=e.id,c=(e.date,e.ratings),r=Object(n.useState)(),i=Object(s.a)(r,2),l=i[0],j=i[1];Object(n.useEffect)((function(){(function(){var e=Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(a);case 2:t=e.sent,j(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[a]);var b=E(c);return Object(m.jsxs)(U.a,{bg:"dark",className:"movieCard",children:[Object(m.jsx)("div",{className:"imageWrapper",children:Object(m.jsx)("div",{className:"image",children:Object(m.jsx)("img",{className:"cardImage",src:null===l||void 0===l?void 0:l.poster_path,alt:"".concat(t," Poster")})})}),Object(m.jsx)("div",{className:"bodyWrapper",children:Object(m.jsxs)("div",{className:"body",children:[Object(m.jsx)("div",{className:"title",children:Object(m.jsx)(O.Link,{to:"/movies/".concat(t.replace(/ /g,"-")),children:Object(m.jsx)(U.a.Title,{children:null===l||void 0===l?void 0:l.title})})}),Object(m.jsxs)("div",{className:"averageRating",children:[Object(m.jsx)("div",{className:"stars",children:Object(m.jsx)(F.a,{rating:b/10,starRatedColor:"rgb(255,223,0)",numberOfStars:1,starEmptyColor:"rgb(30,30,30)",starDimension:"50px",starSpacing:"0px"})}),Object(m.jsx)("div",{className:"score",children:b.toFixed(1)})]})]})})]})}),J=a(31),K=a(55),Y=a.n(K),G=[{value:"dateA",label:"Date (Ascending)"},{value:"dateD",label:"Date (Descending)"},{value:"rateA",label:"Rating (Ascending)"},{value:"rateD",label:"Rating (Descending)"},{value:"titleA",label:"Title (Ascending)"},{value:"titleD",label:"Title(Descending)"}],Q=function(){var e=Object(n.useState)(G[1]),t=Object(s.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!1),i=Object(s.a)(r,2),l=i[0],o=i[1],d=Object(n.useContext)(h).slice().sort((function(e,t){return function(e,t,a){switch(a.value){case"dateA":return e.date.getTime()-t.date.getTime();case"dateD":return t.date.getTime()-e.date.getTime();case"rateA":return E(e.ratings)-E(t.ratings);case"rateD":return E(t.ratings)-E(e.ratings);case"titleA":return e.title>t.title?1:e.title<t.title?-1:0;case"titleD":return e.title>t.title?-1:e.title<t.title?1:0;default:return t.date.getTime()-e.date.getTime()}}(e,t,a)}));return Object(m.jsxs)("div",{className:"homePage",children:[Object(m.jsxs)("div",{className:"sort",children:[Object(m.jsxs)("div",{className:"cageFilter",children:[Object(m.jsx)("div",{className:"filterTitle",children:"Cage Filter"}),Object(m.jsx)(Y.a,{onColor:"#03AC13",uncheckedIcon:!1,checked:l,onChange:function(e){return o(e)}})]}),Object(m.jsx)(J.a,{isSearchable:!1,className:"select",options:G,value:a,onChange:c})]}),Object(m.jsx)("div",{className:"home",children:d.filter((function(e){return l?!0===e.cage:e})).map((function(e,t){return Object(m.jsx)(z,{title:e.title,date:e.date,id:e.id,ratings:e.ratings,cage:e.cage},e.id)}))})]})},V=(a(51),a(96),function(e){var t=e.ratings,a=e.name,n=Object(y.useMediaQuery)({maxWidth:700}),c=t.sort((function(e,t){return t.score-e.score}))[0],r=t.sort((function(e,t){return e.score-t.score}))[0];return Object(m.jsxs)(U.a,{bg:"dark",className:"viewerCard",children:[Object(m.jsx)(U.a.Header,{className:"viewerCardHeader",children:Object(m.jsx)(O.Link,{to:"/viewers/".concat(a),children:a})}),Object(m.jsx)(U.a.Body,{className:"viewerCardBody",children:Object(m.jsx)("table",{className:"viewerCardTable",children:Object(m.jsxs)("tbody",{children:[Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:"Movies Watched:"}),Object(m.jsx)("td",{children:t.length})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:"Average Rating:"}),Object(m.jsxs)("td",{className:"avgRating",children:[Object(m.jsx)(F.a,{rating:E(t)/2,starRatedColor:"rgb(255,223,0)",starEmptyColor:"rgb(30,30,30)",starDimension:n?"15px":"22px",starSpacing:"0px"}),Object(m.jsx)("div",{id:"ratingNumber",children:" ".concat(E(t).toFixed(1),"/10")})]})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:"Highest Rated:"}),Object(m.jsxs)("td",{children:[c.name," (",c.score,"/10)"]})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:"Lowest Rated:"}),Object(m.jsxs)("td",{children:[r.name," (",r.score,"/10)"]})]})]})})})]})}),$=[{value:"rateA",label:"Rating (Ascending)"},{value:"rateD",label:"Rating (Descending)"},{value:"titleA",label:"Name (Ascending)"},{value:"titleD",label:"Name (Descending)"}],q=function(e){var t=e.viewerData,a=Object(n.useState)($[2]),c=Object(s.a)(a,2),r=c[0],i=c[1];return Object(m.jsxs)("div",{className:"viewerHomePage",children:[Object(m.jsx)("div",{className:"viewerSort",children:Object(m.jsx)(J.a,{isSearchable:!1,className:"select",options:$,value:r,onChange:i})}),Object(m.jsx)("div",{className:"viewerHome",children:t.sort((function(e,t){return function(e,t,a){switch(a.value){case"rateA":return E(e.ratings)-E(t.ratings);case"rateD":return E(t.ratings)-E(e.ratings);case"titleA":return e.name>t.name?1:e.name<t.name?-1:0;case"titleD":return e.name>t.name?-1:e.name<t.name?1:0;default:return e.name>t.name?1:e.name<t.name?-1:0}}(e,t,r)})).map((function(e,t){return Object(m.jsx)(V,{ratings:e.ratings,name:e.name},e.name)}))})]})},X=function(e){var t=e.ratings,a=e.name,n=Object(y.useMediaQuery)({maxWidth:700});return Object(m.jsx)("div",{children:Object(m.jsx)(I,{title:"".concat(a,"'s Ratings"),ratings:t,isMobile:n})})},Z=a.p+"static/media/tmdb.bb8aa703.svg",ee=function(){return Object(m.jsxs)("div",{className:"footer",children:[Object(m.jsx)("div",{children:"Movie images and info powered by:"}),Object(m.jsx)("a",{href:"https://www.themoviedb.org/",children:Object(m.jsx)("img",{src:Z,alt:"The Movie Database"})})]})},te=function(){var e=Object(x.l)().pathname;return Object(n.useEffect)((function(){window.scrollTo(0,0)}),[e]),null},ae=function(){var e=Object(n.useContext)(h),t=Object(n.useState)([]),a=Object(s.a)(t,2),c=a[0],r=a[1];return Object(n.useEffect)((function(){!function(){var t=[];e.forEach((function(e){e.ratings.forEach((function(a){var n=t.findIndex((function(e){return e.name===a.name}));-1===n?t.push({name:a.name,ratings:[{name:e.title,score:a.score}]}):t[n].ratings.push({name:e.title,score:a.score})}))})),r(t)}()}),[e]),Object(m.jsxs)("div",{children:[Object(m.jsxs)(O.HashRouter,{children:[Object(m.jsx)(te,{}),Object(m.jsx)(H,{}),Object(m.jsxs)("div",{className:"appBody",children:[Object(m.jsx)(x.d,{exact:!0,path:"/",children:Object(m.jsx)(Q,{})}),e.map((function(e,t){return Object(m.jsx)(x.d,{path:"/movies/".concat(e.title.replace(/ /g,"-")),children:Object(m.jsx)(M,{title:e.title,ratings:e.ratings,id:e.id,date:e.date,cage:e.cage})},t)})),Object(m.jsx)(x.d,{exact:!0,path:"/viewers",children:Object(m.jsx)(q,{viewerData:c})}),c.map((function(e,t){return Object(m.jsx)(x.d,{path:"/viewers/".concat(e.name),children:Object(m.jsx)(X,{name:e.name,ratings:e.ratings})},t)}))]})]}),Object(m.jsx)(ee,{})]})},ne=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,103)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),r(e),i(e)}))};i.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(g,{children:Object(m.jsx)(ae,{})})}),document.getElementById("root")),ne()}},[[97,1,2]]]);
//# sourceMappingURL=main.3bc3638f.chunk.js.map